# MicroBoard 기능 가이드 (Features Guide)

> **버전:** 1.0.0  
> **최종 업데이트:** 2025-12-15

## 📋 목차

1. [핵심 기능](#핵심-기능)
2. [게시판 관리](#게시판-관리)
3. [권한 시스템](#권한-시스템)
4. [검색 기능](#검색-기능)
5. [SEO 및 분석 도구](#seo-및-분석-도구)
6. [회원 관리](#회원-관리)
7. [보안 기능](#보안-기능)
8. [다국어 지원](#다국어-지원)

---

## 핵심 기능

### 🎨 테마 및 디자인

- **다크 모드 지원**: 라이트/다크 테마 자동 전환
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 완벽 지원
- **커스텀 배경**: 색상, 그라데이션, 이미지 배경 설정
- **로고 및 파비콘**: 사이트 브랜딩 커스터마이징

### 📝 게시판 시스템

- **무제한 게시판 생성**: 원하는 만큼 게시판 생성 가능
- **스킨 시스템**: 게시판별 독립적인 스킨 적용
- **에디터 설정**: 게시판별로 WYSIWYG 에디터 사용/미사용 선택
- **댓글 시스템**: 게시판별 댓글 기능 활성화/비활성화
- **파일 첨부**: 다중 파일 업로드 지원

---

## 게시판 관리

### 게시판 생성 및 설정

관리자 페이지 → 게시판 관리에서 다음 항목을 설정할 수 있습니다:

#### 기본 설정
- **게시판 이름**: 게시판 제목 설정
- **테이블명**: 영문, 숫자, 언더스코어만 사용
- **관리자**: 게시판 관리자 지정
- **목록 수**: 페이지당 표시할 게시글 수
- **스킨**: 기본(default) 또는 모던(modern) 선택

#### 기능 설정
- ✅ **댓글 사용**: 댓글 기능 활성화
- ✅ **에디터 사용**: Summernote WYSIWYG 에디터 사용
- ✅ **통합검색 반영**: 통합검색 결과에 포함 여부

#### 권한 설정
- **목록 보기 권한**: 레벨 0~10 (0: 비회원 포함, 1: 회원만, 10: 관리자만)
- **읽기 권한**: 레벨 1~10
- **쓰기 권한**: 레벨 1~10

#### 플러그인 설정
- 게시판별로 활성화할 플러그인 선택

---

## 권한 시스템

### 회원 레벨 시스템

MicroBoard는 10단계 레벨 시스템을 사용합니다:

| 레벨 | 설명 | 기본 권한 |
|------|------|----------|
| 0 | 비회원 | 목록 보기만 가능 (설정 시) |
| 1 | 일반 회원 | 기본 읽기/쓰기 |
| 2-9 | 등급별 회원 | 관리자가 설정한 권한 |
| 10 | 관리자 | 모든 권한 |

### 게시판별 권한 설정

각 게시판마다 독립적으로 권한을 설정할 수 있습니다:

#### 1. 목록 보기 권한 (List Permission)
- 게시판 목록을 볼 수 있는 최소 레벨
- 레벨 0: 비회원 포함 모두 가능
- 레벨 1: 로그인한 회원만 가능
- 레벨 10: 관리자만 가능

#### 2. 읽기 권한 (Read Permission)
- 게시글 내용을 읽을 수 있는 최소 레벨
- 레벨 1~10 설정 가능

#### 3. 쓰기 권한 (Write Permission)
- 게시글을 작성할 수 있는 최소 레벨
- 레벨 1~10 설정 가능

### 권한 적용 예시

**공개 게시판 (누구나 볼 수 있음)**
- 목록: 레벨 0 (비회원 포함)
- 읽기: 레벨 1 (회원만)
- 쓰기: 레벨 1 (회원만)

**회원 전용 게시판**
- 목록: 레벨 1
- 읽기: 레벨 1
- 쓰기: 레벨 1

**VIP 게시판**
- 목록: 레벨 5
- 읽기: 레벨 5
- 쓰기: 레벨 5

**관리자 전용 게시판**
- 목록: 레벨 10
- 읽기: 레벨 10
- 쓰기: 레벨 10

---

## 검색 기능

### 통합검색 (Integrated Search)

모든 게시판을 한 번에 검색할 수 있는 기능입니다.

#### 특징
- 🔍 모든 게시판 동시 검색
- 📌 제목과 내용 모두 검색
- 🎨 검색어 하이라이트 표시
- 📄 페이지네이션 지원 (20개씩)
- 🏷️ 게시판별 태그 표시

#### 사용 방법
1. 헤더 메뉴에서 "🔍 통합검색" 클릭
2. 검색어 입력
3. 검색 버튼 클릭 또는 Enter

#### 검색 제외 설정
관리자는 특정 게시판을 통합검색에서 제외할 수 있습니다:
- 관리자 페이지 → 게시판 관리 → 게시판 편집
- "통합검색 반영" 체크박스 해제

### 게시판 내 검색 (Board Search)

각 게시판에서 독립적으로 검색할 수 있습니다.

#### 검색 옵션
- **제목**: 게시글 제목에서만 검색
- **내용**: 게시글 내용에서만 검색
- **작성자**: 작성자 이름으로 검색
- **전체** (기본값): 제목 + 내용 통합 검색

#### 사용 방법
1. 게시판 목록 페이지 상단의 검색 폼 사용
2. 검색 필드 선택 (제목/내용/작성자)
3. 검색어 입력 후 🔍 버튼 클릭

---

## SEO 및 분석 도구

관리자 페이지 → SEO 설정에서 다양한 SEO 및 분석 도구를 간편하게 설정할 수 있습니다.

### Bing Webmaster Tools
- Bing 검색엔진 등록 및 인증
- 메타 태그 content 값만 입력

### Google Search Console
- Google 검색엔진 등록 및 인증
- 메타 태그 content 값만 입력

### Google Analytics (GA4)
- 방문자 통계 및 분석
- 측정 ID 입력 (G-XXXXXXXXXX)
- 자동으로 추적 스크립트 삽입

### Google Tag Manager
- 태그 관리 시스템
- 컨테이너 ID 입력 (GTM-XXXXXXX)
- Head와 Body 모두 자동 삽입

### Google AdSense
- 광고 수익화
- 클라이언트 ID 입력 (ca-pub-XXXXXXXXXXXXXXXX)
- 자동으로 AdSense 스크립트 삽입

### 커스텀 스크립트

#### 헤더 스크립트
- `<head>` 태그 안에 추가할 스크립트/메타 태그
- 추가 SEO 태그, 폰트, CSS 등

#### 푸터 스크립트
- `</body>` 태그 직전에 추가할 스크립트
- 채팅 위젯, 분석 도구 등

---

## 회원 관리

### 회원 등급 시스템

#### 레벨 관리
- 관리자 페이지 → 회원 관리에서 레벨 변경
- 레벨 1~10 설정 가능
- 관리자(admin)는 자동으로 레벨 10

#### 회원 상태 관리
- **정상**: 일반 활동 가능
- **차단**: 로그인 불가, 차단 사유 표시
- **탈퇴**: 회원 탈퇴 처리

### 포인트 시스템

#### 포인트 설정
- 관리자 페이지 → 환경설정 → 포인트 설정
- 포인트 사용 여부 설정
- 글 작성 시 지급 포인트 설정 (음수 가능)

#### 포인트 지급
- 글 작성: 설정한 포인트 지급
- 글 삭제: 지급된 포인트 회수

### OAuth 소셜 로그인

#### 지원 플랫폼
- Google
- LINE
- Apple

#### 설정 방법
- 관리자 페이지 → OAuth 설정
- 각 플랫폼의 Client ID와 Secret 입력
- 활성화 체크박스 선택

---

## 보안 기능

### CSRF 보호
- 모든 폼에 CSRF 토큰 자동 생성
- 토큰 검증 실패 시 요청 거부

### XSS 방지
- 사용자 입력 자동 이스케이프
- HTML 허용 시 위험 태그 제거
- 이벤트 핸들러 제거

### SQL Injection 방지
- PDO Prepared Statements 사용
- 모든 쿼리 파라미터 바인딩

### 파일 업로드 보안
- MIME 타입 검증
- 파일명 랜덤화
- 허용된 확장자만 업로드 가능

### 2단계 인증 (2FA)
- 이메일 기반 2FA
- 인증 앱 지원 (Google Authenticator 등)
- QR 코드 설정
- 백업 코드 제공

---

## 다국어 지원

### 지원 언어
- 🇰🇷 한국어 (Korean)
- 🇺🇸 영어 (English)
- 🇯🇵 일본어 (Japanese)
- 🇨🇳 중국어 (Chinese)

### 자동 언어 감지
- 브라우저 언어 자동 감지
- 사용자 선택 언어 세션 저장

### 언어 전환
- 헤더의 국기 아이콘 클릭
- 페이지 새로고침 없이 즉시 전환

### 언어 파일 위치
```
lang/
├── ko.php  # 한국어
├── en.php  # 영어
├── ja.php  # 일본어
└── zh.php  # 중국어
```

---

## 플러그인 시스템

### 플러그인 구조

```
plugin/
└── example_plugin/
    ├── index.php       # 플러그인 메인 파일
    └── config.json     # 플러그인 설정 (선택사항)
```

### 사용 가능한 훅 (Hooks)

- `before_write`: 글 작성 전
- `after_write`: 글 작성 후
- `before_login`: 로그인 전
- `after_login`: 로그인 후
- `board_head`: 게시판 헤더
- `before_logo_display`: 로고 표시 전

### 플러그인 예제

```php
<?php
// plugin/example_plugin/index.php

// 글 작성 후 이메일 알림
add_event('after_write', function($post_data) {
    $to = 'admin@example.com';
    $subject = '새 글 작성: ' . $post_data['title'];
    $message = $post_data['writer'] . '님이 글을 작성했습니다.';
    mail($to, $subject, $message);
});

// 로그인 후 포인트 지급
add_event('after_login', function($user_data) {
    insert_point($user_data['mb_id'], 10, '로그인 보너스');
});
?>
```

---

## 데이터베이스 업데이트

새로운 기능을 사용하려면 다음 스크립트를 실행하세요:

### 권한 시스템
```
http://your-domain/update_db_permissions.php
```

### 에디터 설정
```
http://your-domain/update_db_editor.php
```

### 통합검색
```
http://your-domain/update_db_search.php
```

### SEO 설정
```
http://your-domain/update_db_seo.php
```

---

## 문제 해결

### 권한 오류
- 게시판 관리 페이지 접속 시 자동으로 스키마 업데이트
- 또는 해당 업데이트 스크립트 직접 실행

### 검색 결과 없음
- 게시판 설정에서 "통합검색 반영" 확인
- 게시판 테이블이 정상적으로 생성되었는지 확인

### SEO 태그 미표시
- SEO 설정 페이지에서 값 입력 확인
- 페이지 소스 보기로 태그 삽입 확인

---

## 추가 리소스

- [GitHub Repository](https://github.com/mytajimilife-coder/microboard)
- [GitHub Pages 문서](https://mytajimilife-coder.github.io/microboard/)
- [Issue 리포트](https://github.com/mytajimilife-coder/microboard/issues)

---

**MicroBoard v1.0.0** - Made with ❤️
